"use strict";var shadow,myCanvas,rgb,theata=0,stars=[];function hexToRgb(t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function setup(){myCanvas=createCanvas(windowWidth,windowHeight),background(10);for(var t=0;t<4001;t++)stars[t]=new Star}function draw(){1==options.isPNG?clear():(rgb=hexToRgb(options.Background),background(rgb.r,rgb.g,rgb.b,30)),frameCount<10&&background(10),"Center-Inward"==options.Direction||"Center-Outward"==options.Direction?translate(width/2,height/2):"Right"==options.Direction?translate(0,height/2):"Left"==options.Direction?translate(width,height/2):"Down"==options.Direction?translate(width/2,0):"Up"==options.Direction&&translate(width/2,height);for(var t=0;t<options.Counts;t++)stars[t].display(),stars[t].update()}function Star(){this.x=random(3*-width,3*width),this.y=random(3*-width,3*width),this.z=random(2*width,4*width),this.pz=this.z,this.px=this.x,this.py=this.y,this.angle=0,this.display=function(){var t=map(this.x/this.z/2,-1,1,-width,width),i=map(this.y/this.z/2,-1,1,-height,height);if("Center-Inward"==options.Direction)var h=map(dist(0,0,this.px,this.py),0,width/2,0,options.Size);else h=map(dist(t,i,this.px,this.py),0,width/2,options.Size,4*options.Size);var s=map(options.Range,0,200,0,width),o=norm(dist(t,i,0,0),0,s);from=color(options.Color1),to=color(options.Color2),between=lerpColor(from,to,o),stroke(between),strokeWeight(h),1<=this.z&&t<=width&&t>-width&&i>-height&&i<height&&(line(this.px,this.py,t,i),this.px=t,this.py=i)},this.update=function(){"Center-Inward"==options.Direction?(this.z+=options.Speed,(dist(0,0,this.px,this.py)<options.Range||this.z>3*width)&&(this.angle=random(TWO_PI),this.z=random(1.5*width,2*width),this.x=random(2*-width,2*width),this.y=random(2*-width,2*width),this.px=map(this.x/this.z/2,-1,1,-width,width),this.py=map(this.y/this.z/2,-1,1,-height,height))):(this.z-=options.Speed,this.z<1&&(this.z=random(1.5*width,2*width),this.x=random(2*-width,2*width),this.y=random(2*-width,2*width),this.px=map(this.x/this.z/2,-1,1,-width,width),this.py=map(this.y/this.z/2,-1,1,-height,height)))}}