"use strict";var legacyMarkers=[];function updateLegacyMarkers(){for(var i in legacyMarkers){legacyMarkers[i].update()}}function attachLegacyMarker(i,e,t,s){var a=document.getElementById("legacy_marker_template").cloneNode(!0);a.obj=e,a.absPosition=e.position,a.size=void 0!==t?t:1,a.visMin=void 0===s?0:s.min,a.visMax=void 0===s?1e7:s.max,a.$=$(a),document.getElementById("visualization").appendChild(a),a.setVisible=function(i){return this.style.opacity=i?1:0,this.style.visibility=i?"visible":"hidden",this},a.setSize=function(i){this.style.fontSize=i+"px"},a.setPosition=function(i,e){i-=.5*this.markerWidth,this.style.left=i+"px",this.style.top=e+"px"};var n=a.children[0];(a.nameLayer=n).innerHTML=i,a.markerWidth=a.$.outerWidth(),a.zero=new THREE.Vector3,a.update=function(){var i=screenXY(this.obj),e=camera.position.z>this.visMin&&camera.position.z<this.visMax,t=0<i.x&&i.x<screenWidth&&0<i.y&&i.y<screenHeight,s=this.obj.visible;s&&e&&this.setPosition(i.x,i.y),e&&t&&s?this.setVisible(!0):this.setVisible(!1)},legacyMarkers.push(a)}